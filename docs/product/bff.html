<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BFF — Spending Control</title>
  <meta name="description" content="Provider‑compatible BFF that enforces PDP constraints while streaming. Budget holds, token caps, and signed receipts." />
  <link rel="canonical" href="https://empowerid.github.io/empowernow_info/docs/product/bff.html" />
  <link rel="stylesheet" href="../css/fabric.css" />
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"Product","name":"BFF","brand":{"@type":"Brand","name":"EmpowerNow"},"description":"Provider‑compatible proxy that enforces PDP constraints, applies token caps, and emits receipts.","url":"https://empowerid.github.io/empowernow_info/docs/product/bff.html"}
  </script>
</head>
<body>
  <nav style="padding:16px 0;border-bottom:1px solid rgba(0,231,246,.3)">
    <div class="container" style="display:flex;justify-content:space-between;align-items:center">
      <a href="../index.html" style="color:#00E7F6;text-decoration:none;font-weight:700">EmpowerNow</a>
      <div style="display:flex;gap:24px">
        <a href="../product/index.html">Product</a>
        <a href="../product/aria.html">ARIA Shield</a>
        <a href="../solutions/index.html">Solutions</a>
        <a href="../deep-dives/index.html">Deep Dives</a>
        <a href="../docs/index.html">Docs</a>
        <a href="../resources/index.html">Resources</a>
        <a href="../pricing/index.html">Pricing</a>
        <a href="../trust/index.html">Trust</a>
        <a href="../about/index.html">Company</a>
        <a href="../demo/index.html" class="btn btn-primary">Book a Demo</a>
      </div>
    </div>
  </nav>

  <section class="container" style="padding:48px 0 16px">
    <h1>BFF — Spending Control for AI Providers</h1>
    <p style="color:#9ba3b7;max-width:860px">Drop‑in provider proxy that enforces PDP constraints while streaming. Debits budget idempotently and settles signed receipts on completion.</p>
  </section>

  <section class="container" style="padding-bottom:16px">
    <h2>Stream‑time enforcement</h2>
    <ul>
      <li>Live token/output caps guide the streaming loop</li>
      <li>Early stop with policy‑driven warning when limits are reached</li>
      <li>Preserves provider‑native SSE shape to the client</li>
    </ul>
  </section>

  <section class="container" style="padding-bottom:16px">
    <h2>Leakage guards (optional)</h2>
    <ul>
      <li>Rails injection (system prefix/suffix) to constrain model behavior</li>
      <li>Redaction of sensitive content in prompts before logging/receipt hashing</li>
    </ul>
  </section>

  <section class="container" style="padding-bottom:16px">
    <h2>Budget hold/settle</h2>
    <ul>
      <li>Per‑agent budget is debited idempotently using <code>call_id</code> at invocation time</li>
      <li>On retries, additional debits are 0; on exceed, return <code>402 budget_exceeded</code></li>
      <li>On success, emit a signed, hash‑chained receipt (policy snapshot, schema hash, params hash)</li>
    </ul>
  </section>

  <section class="container" style="padding-bottom:32px">
    <h2>Interoperability</h2>
    <ul>
      <li>Compatible with multiple providers; constraints come from the PDP</li>
      <li>Works alongside the ARIA Gateway; both emit receipts to the Vault</li>
    </ul>
  </section>

  <section class="container" style="padding-bottom:16px">
    <h2>Standards we follow</h2>
    <div style="display:flex;gap:12px;flex-wrap:wrap">
      <a class="btn" href="../resources/standards/oauth.html">OAuth</a>
      <a class="btn" href="../resources/standards/oidc.html">OIDC</a>
      <a class="btn" href="../resources/standards/pkce.html">PKCE</a>
      <a class="btn" href="../resources/standards/fapi-2-0.html">FAPI 2.0</a>
    </div>
  </section>

  <section class="container" style="padding-bottom:48px">
    <a href="../resources/index.html#demo" class="btn">See streaming caps</a>
    <a href="../resources/index.html" class="btn" style="margin-left:12px">View 402 behavior</a>
  </section>

  <section class="container" style="padding:8px 0 40px">
    <h2 class="section-title">Related</h2>
    <div style="display:flex;gap:12px;flex-wrap:wrap">
      <a class="btn" href="../solutions/zero-token-spas.html">Solution: Zero‑Token SPAs</a>
      <a class="btn" href="../resources/index.html">Resources</a>
    </div>
  </section>
    <script src="../js/pages-fix.js"></script></body>
</html>



