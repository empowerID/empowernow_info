<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ARIA Gateway — MCP PEP</title>
  <meta name="description" content="Policy enforcement at the agent→tool boundary. Verifies ARIA Passports, enforces policy before execution, and emits signed receipts." />
  <link rel="stylesheet" href="../css/fabric.css" />
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"Product","name":"ARIA Gateway — MCP PEP","brand":{"@type":"Brand","name":"EmpowerNow"},"description":"Policy enforcement at the agent→tool boundary. Verifies ARIA Passports, enforces policy before execution, and emits signed receipts.","url":"https://empowerid.github.io/empowernow_info/docs/product/gateway.html"}
  </script>
</head>
<body>
  <nav style="padding:16px 0;border-bottom:1px solid rgba(0,231,246,.3)">
    <div class="container" style="display:flex;justify-content:space-between;align-items:center">
      <a href="../index.html" style="color:#00E7F6;text-decoration:none;font-weight:700">EmpowerNow</a>
      <div style="display:flex;gap:24px">
        <a href="../product/index.html">Product</a>
        <a href="../solutions/index.html">Solutions</a>
        <a href="../docs/index.html">Docs</a>
        <a href="../resources/index.html">Resources</a>
        <a href="../pricing/index.html">Pricing</a>
        <a href="../trust/index.html">Trust</a>
        <a href="../about/index.html">Company</a>
        <a href="../demo/index.html" class="btn btn-primary">Book a Demo</a>
      </div>
    </div>
  </nav>

  <header class="container" style="padding:72px 0 32px">
    <div class="hero-grid">
      <div class="hero-copy">
        <h1 class="display">MCP Gateway</h1>
        <p class="lead">Guardrails at the agent→tool boundary. Verify passports, enforce policy before execution, and prove it with signed receipts.</p>
        <div style="display:flex;gap:12px;flex-wrap:wrap">
          <a class="btn btn-primary" href="../resources/index.html#demo">Watch demo</a>
          <a class="btn" href="../product/aria.html">See ARIA Shield</a>
          <a class="btn" href="https://empowerid.github.io/empowernow_docs/docs/services/bff/explanation/bff_gateway.md">Read docs</a>
        </div>
      </div>
      <div class="hero-art" aria-hidden="true">
        <div class="glass-card" style="padding:24px">
          <h3 style="margin:0 0 8px">What it enforces</h3>
          <ul class="bullets-small">
            <li>Schema pins and rollout windows</li>
            <li>Plan contracts (steps, params, limits)</li>
            <li>Params & egress allowlists</li>
            <li>PDP authorization per call</li>
            <li>Signed receipts for auditability</li>
          </ul>
        </div>
      </div>
    </div>
  </header>

  <section class="container" style="padding-bottom:16px">
    <h2>Overview</h2>
    <ul>
      <li>Ingress: <code>POST /mcp/{tool_id}</code></li>
      <li>Normalizes PDP responses into enforceable constraints</li>
      <li>Executes obligations (receipts, analytics) on permit</li>
    </ul>
  </section>

  <section class="container" style="padding-bottom:16px">
    <h2>Boundary enforcement</h2>
    <ul>
      <li>Identity binding via pairwise <code>sub</code> and <code>act.sub</code>; optional PoP (DPoP) downstream (roadmap)</li>
      <li>Schema pins with rollout grace windows</li>
      <li>Params and egress allowlists</li>
      <li>Plan‑step checks against signed plan JWS</li>
      <li>Budget gating with idempotent debit per <code>call_id</code>; 402 on exceed</li>
      <li>Inbound shaping: redaction, rails injection, token/byte caps, data_scope tagging</li>
    </ul>
  </section>

  <section class="container" style="padding-bottom:16px">
    <h2>Example ingress (shape)</h2>
    <pre><code>{
  "args": {"amount": "12.34", "q": "SFO"},
  "instruction": "search for flights",
  "sql": null
}</code></pre>
    <p>On deny, returns a standard HTTP error with reason code (e.g., <code>egress_denied</code>, <code>plan_step_violation</code>, <code>budget_exceeded</code>).</p>
  </section>

  <section class="container" style="padding-bottom:16px">
    <h2>Obligations and receipts</h2>
    <ul>
      <li>Signed, hash‑chained receipts include policy snapshot, schema hash, params hash, linkage to previous receipt</li>
      <li>Analytics tee with constraints fingerprints and timings (no token bodies)</li>
    </ul>
  </section>

  <section class="container" style="padding-bottom:32px">
    <h2>Interoperability</h2>
    <ul>
      <li>Works with any AuthZEN‑compatible PDP</li>
      <li>Consumes Tool Registry pins (ETag‑friendly)</li>
      <li>Emits receipts to the Receipt Vault</li>
    </ul>
  </section>

  <section class="container" style="padding-bottom:48px">
    <div class="grid-2">
      <a class="card-link" href="https://empowerid.github.io/empowernow_docs/docs/services/bff/explanation/bff_gateway.md"><div class="card"><h3>Gateway deep dive</h3><p>Mapping requests to policy and enforcing constraints.</p></div></a>
      <a class="card-link" href="https://empowerid.github.io/empowernow_docs/docs/services/aria-shield/receipt-chains.md"><div class="card"><h3>Receipts</h3><p>Tamper‑evident JWS with policy snapshots and hashes.</p></div></a>
    </div>
  </section>
    <script src="../js/pages-fix.js"></script></body>
</html>



