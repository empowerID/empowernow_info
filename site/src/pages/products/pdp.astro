---
import Base from '../../layouts/Base.astro';
import Product from '../../layouts/Product.astro';
import JsonLd from '../../components/JsonLd.astro';
const title = 'AuthZEN PDP — Explainable, enforceable decisions';
const description = 'Standardized allow/deny with constraints, obligations, TTL, and reasons. Built to be enforced by Gateway and Shield.';
const canonical = '/products/pdp/';
const jsonLdProduct = {"@context":"https://schema.org","@type":"Product","name":"AuthZEN PDP","brand":{"@type":"Brand","name":"EmpowerNow"},"description":description,"url":new URL(canonical, Astro.site)};
---
<Base title={title} description={description} canonical={canonical}>
	<JsonLd data={jsonLdProduct} />
    <Product title={title} description={description} canonical={canonical} productKey="pdp" eyebrow="🛡️ PDP" headline="Author once, decide everywhere" subhead="OpenID AuthZEN contracts return allow/deny + constraints/obligations/TTL with explanations — used by Gateway and Shield to enforce budgets, params, and content." targetICP={[ 'Platform Teams', 'Security Architects', 'IAM' ]} keyBenefits={[ 'Standardized, explainable decisions (AuthZEN)', 'Constraints/obligations for budgets, params, egress', 'Batch and graph‑aware evaluation; consistent across stacks' ]} primaryCTA={{ label: 'Book demo', href: `${import.meta.env.BASE_URL}demo/` }} secondaryCTA={{ label: 'Read docs', href: 'https://empowerid.github.io/empowernow_docs/docs/services/pdp/' }} tertiaryCTA={{ label: 'Quickstart', href: `${import.meta.env.BASE_URL}docs/` }} docsLinks={[ { href: 'https://empowerid.github.io/empowernow_docs/docs/services/pdp/', label: 'PDP Docs' }, { href: 'https://empowerid.github.io/empowernow_docs/docs/website_copy/primers/primer_pdp_authzen', label: 'Primer: AuthZEN' } ]} wwwLinks={[ { href: '/solutions/delegated-authorization/', label: 'Delegated Authorization' }, { href: '/solutions/agent-safe-tools/', label: 'Agent-Safe Tools' } ]} keywords={[ 'authzen','pdp','authorization' ]}>
		<fragment slot="how">
			<section class="container" style="padding:8px 0 24px">
				<h2 class="section-title">How it works</h2>
                <p style="color:#9ba3b7">Services call PDP with subject, resource, action, and context. PDP evaluates policy and returns a decision with constraints/obligations, TTL, and reasons for audit.
                </p>
				<div class="diagram vignette" style="margin-top:12px">
					<div style="display:grid;grid-template-columns:repeat(5,1fr);align-items:center;gap:8px;position:relative;z-index:1">
						<div class="node">Subject</div>
						<div class="flow"></div>
						<div class="node">Resource</div>
						<div class="flow"></div>
						<div class="node">Action</div>
					</div>
					<div style="display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:12px;margin-top:10px;position:relative;z-index:1">
						<div class="node">Context</div>
						<div class="node pdp">PDP</div>
						<div class="node">Decision</div>
					</div>
				</div>
			</section>
            <section class="container" style="padding:8px 0 24px">
                <h2 class="section-title">Proof</h2>
                <ul style="color:#9ba3b7;line-height:1.8">
                    <li>Explained decisions (what/why) link to receipts</li>
                    <li>Budget/content/params enforced via obligations</li>
                    <li>Integrates with Inventory freshness/lineage as PIP</li>
                </ul>
                <h3 style="margin-top:8px">Decision example (AuthZEN)</h3>
                <pre class="glass-card" style="padding:12px;overflow:auto"><code>{`
{
  "decision": "Permit",
  "constraints": [{ "id": "stream_tokens_max", "value": 2048 }],
  "obligations": [{ "id": "budget_hold", "call_id": "abc-123", "limit_usd": 1.50 }],
  "ttl_ms": 5000,
  "reasons": ["policy:agent.tools.invoke"],
  "version": "authzen-2025-09"
}
`}</code></pre>
            </section>
		</fragment>
	</Product>
    <section class="container" style="padding:8px 0 24px">
        <h2 class="section-title">Compare</h2>
        <div class="glass-card" style="padding:16px;color:#9ba3b7">
            <ul style="margin:0;line-height:1.8">
                <li><strong>OPA/Cerbos</strong>: no standard AuthZEN envelope (constraints/obligations/TTL) or conservative merge → <a href="https://openpolicyagent.org/docs">evidence</a></li>
                <li><strong>AWS AVP</strong>: managed PDP; Cedar allow/forbid model without AuthZEN response semantics → <a href="https://aws.amazon.com/verified-permissions/">evidence</a></li>
                <li><strong>Envoy/Istio</strong>: excellent PEPs; decision contract depends on the PDP; AuthZEN provides explainability + obligations → <a href="https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/ext_authz_filter">evidence</a></li>
            </ul>
        </div>
    </section>
</Base>
