---
import Base from '../../layouts/Base.astro';
import Solution from '../../layouts/Solution.astro';
import RelatedContent from '../../components/RelatedContent.astro';
import CrossSiteLinks from '../../components/CrossSiteLinks.astro';
const title = 'Zero‑Token SPAs — Secure by Design';
const description = 'Move tokens out of the browser. Use a BFF to deliver session UX, AuthZEN policy, stream-time caps, and signed receipts.';
const canonical = '/solutions/zero-token-spas/';
---
<Base title={title} description={description} canonical={canonical}>
	<Solution title={title} description={description} canonical={canonical} headline="Zero‑Token SPAs" outcomes={[ 'Eliminate token theft', 'Policy on every call', 'Audit‑ready proof' ]} faq={[ { q:'What is a Zero‑Token SPA?', a:'A SPA that never stores OAuth/OIDC tokens in the browser. The BFF holds tokens server‑side and authenticates via HTTP‑only cookies.' }, { q:'Does this work with OAuth/OIDC/PKCE?', a:'Yes. OAuth/OIDC flows terminate at the BFF with PKCE; the SPA uses a SameSite, HTTP‑only session cookie.' } ]}>
		<fragment slot="how">
			<section class="container" style="padding:8px 0 24px">
				<h2 class="section-title">How it works</h2>
				<ol class="numbered">
					<li>Edge calls BFF for ForwardAuth; SPA never sees tokens.</li>
					<li>BFF validates session and requests PDP decision per route.</li>
					<li>On allow, BFF brokers tokens and applies constraints (caps, egress, params).</li>
					<li>Signed receipts capture policy snapshots and usage.</li>
				</ol>
			</section>
		</fragment>
		<fragment slot="related">
			<RelatedContent internalLinks={[{href:'/products/aria-shield/',label:'ARIA Shield'},{href:'/resources/',label:'Resources'}]} />
			<CrossSiteLinks docsLinks={[
				{ href: 'https://empowerid.github.io/empowernow_docs/docs/services/bff/explanation/overview/', label: 'BFF Overview' },
				{ href: 'https://empowerid.github.io/empowernow_docs/docs/services/bff/explanation/bff_gateway/', label: 'BFF Gateway' }
			]} wwwLinks={[
				{ href: '/products/aria-shield/', label: 'ARIA Shield' },
				{ href: '/deep-dives/', label: 'Deep Dives' }
			]} />
		</fragment>
	</Solution>
</Base>
