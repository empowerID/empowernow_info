---
import Base from './Base.astro';
interface Props {
    title: string;
    description?: string;
    canonical?: string;
    chips?: string[];
    background?: 'hero' | null;
    bgImage?: string;
}
const { title, description = '', canonical = '/', chips = [], background = null, bgImage } = Astro.props as Props;
const base = import.meta.env.BASE_URL;
const bgUrl = background === 'hero' ? `${base}images/backgrounds/bg-homepage-hero.jpg` : (bgImage ? (bgImage.startsWith('http') ? bgImage : `${base}${bgImage.replace(/^\//,'')}`) : '');
const pad = background === 'hero' ? '120px 0 64px' : '48px 0 16px';
const sectionStyle = `${`padding:${pad}`}${bgUrl ? `;background-image:url(${bgUrl});background-size:cover;background-position:center;background-repeat:no-repeat` : ''}`;
---
<Base title={title} description={description} canonical={canonical}>
    <section class="hero-plate page-stage" style={sectionStyle} data-suppress-sticky>
        <div class="container hero" style="display:grid;grid-template-columns:5fr 7fr;gap:24px;align-items:start">
            <div>
                <h1 class="display" style="margin:0 0 10px"><slot name="heading">{title}</slot></h1>
                <p style="color:#9ba3b7;max-width:720px"><slot name="subhead">{description}</slot></p>
                {(chips?.length>0) && (
                    <ul style="display:flex;gap:8px;flex-wrap:wrap;padding:0;margin:12px 0 0;list-style:none;color:#9ba3b7">
                        {chips.map(c => <li class="chip chip--outline-cyan">{c}</li>)}
                    </ul>
                )}
                <div style="display:flex;gap:10px;margin-top:12px">
                    <slot name="primary-ctas" />
                </div>
                <slot name="left-extra" />
            </div>
            <div>
                <slot />
            </div>
        </div>
    </section>
    <div class="section-divider"></div>
    <section class="container" style="padding:8px 0 64px">
        <slot name="below" />
    </section>
    <style>
        @media (max-width: 900px){ .hero { grid-template-columns: 1fr } }
    </style>
</Base>


