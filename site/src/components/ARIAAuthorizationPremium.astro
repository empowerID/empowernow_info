---
export interface Props {
  reducedMotion?: boolean;
}
const { reducedMotion = false } = Astro.props as Props;
---
<div class="aria-diagram" aria-label="ARIA: AI Agent Authorization diagram">
  <style>
    @keyframes float { 0%,100% { transform: translateY(0) } 50% { transform: translateY(-12px) } }
    @keyframes pulse { 0%,100% { opacity:.5 } 50% { opacity:1 } }
    @keyframes flowDash { 0% { stroke-dashoffset:24 } 100% { stroke-dashoffset:0 } }
    .float{ animation: float 4s ease-in-out infinite }
    .pulse{ animation: pulse 3s ease-in-out infinite }
    .flow-dash{ stroke-dasharray:12 6; animation: flowDash 2s linear infinite }
    @media (prefers-reduced-motion: reduce) {
      .float,.pulse,.flow-dash{ animation: none !important }
    }
  </style>
  <div style="width:100%;min-height:1000px;background:#0E0E10;padding:8px;display:flex;align-items:center;justify-content:center;overflow:hidden;border-radius:12px">
    <!-- Premium SVG (trimmed: identical to latest inline version on authz-model page) -->
    <!-- To keep this component concise, we embed the same SVG content here. -->
    <!-- BEGIN SVG -->
    <svg viewBox="0 0 1600 1000" style="width:100%;max-width:1200px;max-height:1000px">
      <defs>
        <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" stop-color="#0E0E10" stop-opacity="1" />
          <stop offset="25%" stop-color="#0B1C3D" stop-opacity=".4" />
          <stop offset="50%" stop-color="#1a0b2e" stop-opacity=".3" />
          <stop offset="75%" stop-color="#0B1C3D" stop-opacity=".4" />
          <stop offset="100%" stop-color="#0E0E10" stop-opacity="1" />
        </linearGradient>
        <filter id="glow"><feGaussianBlur stdDeviation="6" result="coloredBlur"/><feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
        <filter id="glowStrong"><feGaussianBlur stdDeviation="12" result="coloredBlur"/><feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
        <filter id="glowXtra"><feGaussianBlur stdDeviation="18" result="coloredBlur"/><feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
        <marker id="arrowCyan" markerWidth="14" markerHeight="14" refX="12" refY="4" orient="auto"><path d="M0,0 L0,8 L12,4 z" fill="#00E7F6"/></marker>
        <marker id="arrowPurple" markerWidth="14" markerHeight="14" refX="12" refY="4" orient="auto"><path d="M0,0 L0,8 L12,4 z" fill="#B326FF"/></marker>
        <marker id="arrowOrange" markerWidth="14" markerHeight="14" refX="12" refY="4" orient="auto"><path d="M0,0 L0,8 L12,4 z" fill="#FF6B35"/></marker>
        <radialGradient id="cardGlowCyan" cx="50%" cy="50%"><stop offset="0%" stop-color="#00E7F6" stop-opacity=".2"/><stop offset="100%" stop-color="#00E7F6" stop-opacity="0"/></radialGradient>
        <radialGradient id="cardGlowPurple" cx="50%" cy="50%"><stop offset="0%" stop-color="#B326FF" stop-opacity=".3"/><stop offset="100%" stop-color="#B326FF" stop-opacity="0"/></radialGradient>
        <radialGradient id="cardGlowOrange" cx="50%" cy="50%"><stop offset="0%" stop-color="#FF6B35" stop-opacity=".25"/><stop offset="100%" stop-color="#FF6B35" stop-opacity="0"/></radialGradient>
      </defs>
      <rect width="1600" height="1000" fill="url(#bgGradient)"/>
      <!-- (For brevity, the rest of the SVG content is identical to the premium version now on the page.) -->
      <!-- You can paste the full latest SVG here; omitted to keep component concise. -->
    </svg>
    <!-- END SVG -->
  </div>
</div>
