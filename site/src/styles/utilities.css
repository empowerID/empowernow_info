/* Utilities */
html,body{max-width:100%;overflow-x:hidden}
.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;clip:auto}
.container{max-width:1120px;margin:0 auto;padding:0 24px}
nav{background:rgba(11,28,61,.8);backdrop-filter:blur(20px);border-bottom:1px solid rgba(0,231,246,.2)}
.nav-links{display:flex;gap:20px;align-items:center;list-style:none;margin:0;padding:0}
.nav-links a:not(.btn-primary){color:var(--on-bg);text-decoration:none;white-space:nowrap;transition:color .25s,text-decoration .25s}
.nav-links a:not(.btn-primary):hover,.nav-links a:not(.btn-primary):focus{color:var(--color-accent);text-decoration:underline}
.nav-links a:focus-visible{outline:3px solid var(--color-accent);outline-offset:2px}
/* Ensure CTA keeps high-contrast text inside nav */
.nav-links a.btn-primary{color:var(--on-accent)!important;border-color:var(--color-accent);text-decoration:none}
.nav-links a.btn-primary:visited{color:var(--on-accent)!important}
.nav-links a.btn-primary:hover{filter:brightness(1.1);text-decoration:none}
.btn{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;border-radius:10px;border:1px solid var(--border-soft);text-decoration:none;color:var(--on-bg);background:var(--surface-1)}
.btn:visited{color:var(--on-bg)}
.btn:focus-visible{outline:3px solid var(--focus-ring);outline-offset:3px}
.btn-primary{background:var(--color-accent);color:var(--on-accent);box-shadow:0 6px 22px rgba(0,231,246,.25);position:relative;isolation:isolate}
.btn-primary:visited{color:var(--on-accent)}
.btn-primary:hover{filter:brightness(1.05)}
.btn-primary:active{transform:translateY(1px)}
.btn-ghost{background:transparent;color:var(--on-bg);border:1px solid var(--border-soft);box-shadow:none}
.btn-ghost:hover{background:rgba(255,255,255,.04);border-color:rgba(0,231,246,.45)}
.btn[aria-disabled="true"],.btn:disabled{opacity:.55;pointer-events:none}
.btn-primary::before{content:'';position:absolute;inset:0;border-radius:10px;padding:1px;background:linear-gradient(180deg, rgba(255,255,255,.35), rgba(255,255,255,.1));-webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);-webkit-mask-composite:xor;mask-composite:exclude;pointer-events:none}
.glass-card{background:rgba(11,28,61,.85);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border-radius:12px;box-shadow:inset 0 1px 0 rgba(255,255,255,.05), 0 4px 20px rgba(0,0,0,.35);border:1px solid var(--border-soft);position:relative;overflow:hidden;color:var(--on-bg);text-decoration:none;display:block;transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease}
.glass-card:focus-within{border-color:rgba(0,231,246,.6);box-shadow:inset 0 1px 0 rgba(255,255,255,.1), 0 10px 32px rgba(0,0,0,.5)}
.glass-card:hover{border-color:rgba(0,231,246,.45);box-shadow:inset 0 1px 0 rgba(255,255,255,.08), 0 10px 28px rgba(0,0,0,.45)}
.glass-card h1,.glass-card h2{color:var(--color-primary)}
.glass-card h3{color:var(--on-surface);font-weight:750;font-size:20px}
.glass-card p{color:var(--on-muted)}
.glass-card::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(to right,transparent,rgba(0,231,246,.4),transparent)}
.grid-3{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}
/* Footer links */
footer a{color:var(--on-bg);text-decoration:none}
footer a:hover,footer a:focus{color:var(--color-accent);text-decoration:underline}
footer a:visited{color:var(--on-bg)}
footer a:focus-visible{outline:3px solid var(--color-accent);outline-offset:2px}
/* Hero ambient glow */
.hero-ambient{position:relative}
.hero-ambient::before{content:'';position:absolute;inset:-10% -10% auto -10%;height:50%;background:radial-gradient(600px 300px at 20% 40%, rgba(108,76,255,.18), transparent 60%),radial-gradient(500px 280px at 78% 30%, rgba(0,231,246,.14), transparent 60%),radial-gradient(420px 240px at 60% 65%, rgba(179,38,255,.10), transparent 60%);filter:blur(24px);pointer-events:none;z-index:0}
/* Section hairline divider */
.section-divider{height:1px;background:linear-gradient(90deg, transparent, rgba(0,231,246,.35), transparent);margin:40px 0}
/* Title shimmer */
.section-title{position:relative}
.section-title::after{content:'';position:absolute;left:0;right:0;bottom:-8px;height:2px;background:linear-gradient(90deg,transparent,var(--color-accent),transparent);opacity:.7}
@media (prefers-reduced-motion:no-preference){
  .section-title::after{background-size:200% 100%;animation:shine 2.5s linear infinite}
  @keyframes shine{to{background-position:200% 0}}
}
/* Background grid */
.bg-grid{position:relative}
.bg-grid::before{content:'';position:absolute;inset:0;background:radial-gradient(circle at 20% 10%, rgba(255,255,255,.04) 0 1px, transparent 1px) 0 0/24px 24px;opacity:.25;pointer-events:none}
/* Ambient stage */
.page-stage{background:radial-gradient(40% 30% at 15% 8%, rgba(108,76,255,.20), transparent 60%),radial-gradient(35% 30% at 85% 12%, rgba(0,231,246,.14), transparent 60%),radial-gradient(25% 20% at 70% 80%, rgba(179,38,255,.12), transparent 70%),var(--color-bg)}
/* Card inline CTA */
.card-cta{color:var(--color-accent);text-decoration:none}
.card-cta:hover{text-decoration:underline}

/* Surface system */
.panel-glow{position:relative;background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.04));border:1px solid rgba(0,231,246,.25);border-radius:16px;box-shadow:0 0 0 1px rgba(0,231,246,.12) inset, 0 20px 60px rgba(0,231,246,.15), 0 10px 30px rgba(108,76,255,.10)}
.panel-glow::before{content:'';position:absolute;left:12px;right:12px;top:0;height:2px;border-radius:2px;background:var(--panel-rail, linear-gradient(90deg, var(--color-primary), var(--color-accent), var(--color-secondary)));opacity:.7}
.panel-glass{background:var(--glass-frost);border:1px solid rgba(255,255,255,.12);border-radius:14px;box-shadow:0 8px 24px rgba(0,0,0,.25)}
.block-ghost{border-top:1px solid rgba(255,255,255,.12);padding-top:16px}
.section-rail{border-top:2px solid rgba(108,76,255,.25);box-shadow:0 1px 0 0 rgba(0,231,246,.18) inset}

/* Code proof atom */
.code-proof{background:#0A0B0D;border:1px solid rgba(255,255,255,.14);border-radius:12px;padding:16px;box-shadow:0 0 0 1px rgba(0,231,246,.12) inset;font:500 14px/1.6 ui-monospace,Menlo,Consolas,monospace;color:#E6E6E6}

/* Desktop-only parallax glow for hero image */
@media (hover:hover) and (pointer:fine) and (min-width: 1024px){
  .parallax-glow{position:relative;isolation:isolate}
  .parallax-glow::before{
    content:'';position:absolute;inset:-8%;
    background:
      radial-gradient(420px 220px at calc(50% + (var(--mx,0px)*.1)) calc(50% + (var(--my,0px)*.1)), rgba(108,76,255,.22), transparent 60%),
      radial-gradient(360px 180px at calc(50% - (var(--mx,0px)*.08)) calc(50% - (var(--my,0px)*.08)), rgba(0,231,246,.14), transparent 60%);
    filter:blur(26px);z-index:0;pointer-events:none
  }
  .parallax-glow img{position:relative;z-index:1;will-change:transform;transition:transform .2s ease}
}
@media (prefers-reduced-motion: reduce){
  .parallax-glow::before{display:none}
  .parallax-glow img{transition:none}
}

/* Section spine and alternates */
.section-spine{position:relative;padding-left:14px}
.section-spine::before{content:'';position:absolute;left:0;top:.2em;bottom:.2em;width:3px;background:linear-gradient(180deg, rgba(108,76,255,.22), rgba(179,38,255,.18));border-radius:3px}
.surface-2{background:var(--surface-2)}
.surface-3{background:var(--surface-3)}

/* Card title hairline */
.card-title{position:relative}
.card-title::after{content:'';position:absolute;left:0;bottom:-6px;width:76px;height:2px;background:linear-gradient(90deg, var(--color-primary), rgba(179,38,255,.6));opacity:.7}

/* Corner glow for cards */
.card-glow{position:relative}
.card-glow::before{content:'';position:absolute;right:-10%;top:-10%;width:220px;height:180px;background:radial-gradient(180px 120px at 80% 20%, rgba(179,38,255,.14), transparent 60%);filter:blur(18px);pointer-events:none}

/* Chips */
.chip{display:inline-flex;align-items:center;gap:6px;padding:2px 8px;border-radius:999px;border:1px solid var(--border-soft);font-size:13px}
.chip--success{background:rgba(182,255,60,.10);border-color:rgba(182,255,60,.55);color:#B6FF3C}
.chip--violet{background:rgba(108,76,255,.08);border-color:rgba(108,76,255,.45);color:var(--on-surface)}
.chip--cyan{background:rgba(0,231,246,.08);border-color:rgba(0,231,246,.45);color:var(--on-surface)}
.chip--spec{border-color:var(--color-accent)}
.chip--outline-violet{background:transparent;border-color:rgba(108,76,255,.55);color:var(--on-surface)}
.chip--outline-cyan{background:transparent;border-color:rgba(0,231,246,.55);color:var(--on-surface)}
.chip--more{background:transparent;border-color:var(--border-soft);color:var(--on-muted)}

/* Badges */
.badge{display:inline-flex;align-items:center;gap:6px;padding:2px 8px;border-radius:999px;border:1px solid rgba(255,255,255,.18);font-size:12px;color:var(--on-muted)}
.badge--ga{color:var(--ion-lime);border-color:rgba(182,255,60,.55)}
.badge--beta{color:var(--signal-amber);border-color:rgba(255,193,59,.55)}

/* Product accent helpers (rails/icons/badges) */
.product-rail{height:2px;border-radius:2px;opacity:.8;margin-bottom:10px;pointer-events:none}
.rail--crud{background:linear-gradient(90deg,var(--accent-crud),transparent)}
.rail--gateway{background:linear-gradient(90deg,var(--accent-gateway),transparent)}
.rail--pdp{background:linear-gradient(90deg,var(--accent-pdp),transparent)}
.rail--shield{background:linear-gradient(90deg,var(--accent-shield),transparent)}
.rail--idp{background:linear-gradient(90deg,var(--accent-idp),transparent)}
.rail--receipts{background:linear-gradient(90deg,var(--accent-receipts),transparent)}
.rail--collector{background:linear-gradient(90deg,var(--accent-collector),transparent)}
.rail--gateway{box-shadow:0 0 14px rgba(108,76,255,.35)}
.rail--pdp{box-shadow:0 0 14px rgba(179,38,255,.35)}
.rail--idp{box-shadow:0 0 14px rgba(194,69,255,.28)}
.rail--shield{box-shadow:0 0 14px rgba(90,132,255,.28)}
.rail--receipts{box-shadow:0 0 14px rgba(95,137,255,.28)}
.rail--collector{box-shadow:0 0 14px rgba(110,242,242,.28)}
.icon-accent{stroke-width:1.8;fill:none}
.icon--crud{stroke:var(--accent-crud)}
.icon--gateway{stroke:var(--accent-gateway)}
.icon--pdp{stroke:var(--accent-pdp)}
.icon--shield{stroke:var(--accent-shield)}
.icon--idp{stroke:var(--accent-idp)}
.icon--receipts{stroke:var(--accent-receipts)}
.icon--collector{stroke:var(--accent-collector)}
.trust-strip{display:flex;gap:12px;flex-wrap:wrap;align-items:center;justify-content:center}
.trust-strip .btn{transition:transform .12s ease}
.trust-strip .btn:hover{transform:translateY(-2px)}
.trust-strip strong{color:#e6e6e6}
.trust-strip a:focus-visible{outline:2px solid var(--pulse-cyan);outline-offset:2px}
.status-row{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.status-row .chip{cursor:default}
.status-row .chip[data-clickable]{cursor:pointer}
.status-row .chip[data-clickable]:focus-visible{outline:2px solid var(--pulse-cyan);outline-offset:2px}
@keyframes pulseOnce{0%{opacity:.6}100%{opacity:1}}
.status-row .chip.is-new{animation:pulseOnce .6s ease 1}

/* Nav active and footer underline */
.nav-links a[aria-current="page"]{text-decoration:underline;color:var(--color-primary)}
/* Inline link accessibility on dark surfaces */
.container p a,.container li a{color:var(--link-color);text-decoration:underline;text-underline-offset:2px}
.container p a:visited{color:var(--link-visited)}
.container p a:hover,.container p a:focus{filter:brightness(1.15)}

/* ARIA Tabs (Products) */
[role="tablist"]{display:flex;gap:8px;flex-wrap:wrap}
[role="tab"]{position:relative;border-radius:10px;padding:8px 12px;border:1px solid var(--border-soft);background:var(--surface-1);color:var(--on-bg);transition:background .18s ease,border-color .18s ease}
[role="tab"]::after{content:'';position:absolute;left:8px;right:8px;bottom:-2px;height:2px;background:transparent;transition:transform .18s ease;transform:scaleX(0);transform-origin:left}
[role="tab"][aria-selected="true"],.tab-active{outline:2px solid var(--color-accent);outline-offset:2px;background:rgba(0,231,246,.12);border-bottom:2px solid var(--color-accent)}
[role="tab"][aria-selected="true"]::after{background:var(--color-accent);transform:scaleX(1)}
[role="tabpanel"]{margin-top:12px}
footer a:hover{background:linear-gradient(currentColor,currentColor) left bottom/100% 1px no-repeat;background-image:linear-gradient(90deg,var(--color-secondary),var(--color-accent))}

/* Role link focus ring */
.role-link:focus-visible{outline:3px solid var(--color-accent);outline-offset:3px}

/* Conic background accent */
.bg-conic-cyan{position:relative}
.bg-conic-cyan::before{content:'';position:absolute;inset:-8% -8% -8% -8%;background:conic-gradient(from 180deg at 50% 50%, rgba(0,231,246,.08), transparent 20%, rgba(0,231,246,.06) 40%, transparent 60%, rgba(0,231,246,.08) 80%, transparent);filter:blur(12px);pointer-events:none;z-index:0}

/* Product hero plate */
.hero-plate{position:relative}
.hero-plate::before{content:'';position:absolute;left:0;right:25%;top:-10px;height:260px;background:
  radial-gradient(420px 220px at 24% 44%, rgba(108,76,255,.24), transparent 60%),
  radial-gradient(340px 180px at 38% 38%, rgba(179,38,255,.20), transparent 60%);
filter:blur(20px);pointer-events:none}

/* Benefit bullet */
.benefit-row{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
.benefit-card{padding:16px;display:flex;align-items:flex-start;gap:10px}
.benefit-bullet{width:8px;height:8px;border-radius:50%;background:linear-gradient(180deg,var(--color-secondary),var(--color-primary));box-shadow:0 0 8px rgba(179,38,255,.5);
  flex:0 0 8px;margin-top:6px}

/* Row hairline divider */
.row-hairline{height:2px;background:linear-gradient(90deg, transparent, rgba(0,231,246,.35), transparent);margin:10px 0 0}

/* Card grids */
.card-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}
.ns-card{border:1px solid var(--border-soft);border-radius:12px;padding:16px;background:rgba(11,28,61,.75)}
.ns-card h3{margin:0 0 6px;color:var(--on-surface);font-size:18px}
.ns-card p{margin:0 0 8px;color:var(--on-muted)}

/* Eyebrow */
.eyebrow{display:inline-block;color:var(--on-muted);letter-spacing:.08em;text-transform:uppercase;font-size:12px;margin-bottom:6px}

/* Vignette plate for heroes/diagrams */
.vignette{position:relative}
.vignette::before{content:'';position:absolute;inset:-6%;background:radial-gradient(600px 260px at 30% 30%, rgba(0,0,0,.5), transparent 60%);filter:blur(28px);pointer-events:none;z-index:0}

/* Diagram block */
.diagram{position:relative;background:#0A0A0B;border:1px solid var(--border-soft);border-radius:14px;padding:16px;overflow:hidden}
.diagram .node{display:inline-flex;align-items:center;justify-content:center;width:120px;height:120px;border-radius:999px;border:1px solid rgba(0,231,246,.45);color:var(--on-surface)}
.diagram .pdp{border-color:rgba(179,38,255,.6);box-shadow:0 0 40px rgba(179,38,255,.18)}
.diagram .flow{height:2px;background:linear-gradient(90deg, var(--color-accent), transparent);opacity:.7}

/* Footer (sitewide) */
.site-footer{background:var(--surface-2);border-top:1px solid var(--border-soft);padding:40px 0;margin-top:48px}
.footer-top{display:grid;grid-template-columns:2fr 1.2fr 1.2fr 1.2fr 1.2fr;gap:24px}
.footer-brand{display:flex;flex-direction:column;gap:10px}
.footer-col h4{color:var(--on-surface);margin:0 0 8px;font-size:16px}
.footer-col ul{list-style:none;margin:0;padding:0;display:grid;gap:8px}
.footer-col a{color:var(--on-muted);text-decoration:none}
.footer-col a:hover{color:var(--color-accent);text-decoration:underline}
.footer-trust{display:flex;gap:12px;align-items:center;margin-top:16px}
.footer-bottom{display:flex;justify-content:space-between;align-items:center;margin-top:24px;padding-top:12px;border-top:1px solid var(--border-soft)}

/* Reveal-on-scroll + micro-interactions */
@media (prefers-reduced-motion: no-preference){
  .reveal-on-scroll{opacity:0;transform:translateY(16px);transition:opacity .6s ease-out, transform .6s ease-out}
  .reveal-on-scroll.is-visible{opacity:1;transform:none}
  .hover-rise{transition:transform .18s ease}
  .hover-rise:hover{transform:translateY(-2px)}
}
/* Content visibility for perf */
.cv-auto{content-visibility:auto;contain-intrinsic-size:1000px}

/* Typography (clamp scale) */
.h1{font:700 clamp(36px,5vw,64px)/1.05 'Inter',ui-sans-serif;letter-spacing:-0.02em;color:var(--ink)}
.h2{font:700 clamp(28px,4vw,40px)/1.1 'Inter',ui-sans-serif;color:var(--ink)}
.h3{font:600 clamp(20px,2.5vw,24px)/1.2 'Inter',ui-sans-serif;color:var(--ink)}
.body{font:400 16px/1.6 'Inter',ui-sans-serif;color:var(--muted)}
/* Gradient text helper */
.text-gradient{background:linear-gradient(90deg,var(--brand-1),var(--brand-2));-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}

/* Code cards */
.code-card{background:#0A1220;border:1px solid rgba(255,255,255,.14);border-radius:12px;padding:14px 16px;box-shadow:0 0 0 1px rgba(0,231,246,.08) inset;font:500 13px/1.6 ui-monospace,Menlo,Consolas,monospace;color:#E6E6E6}
.code-card--danger{border-left:3px solid var(--danger);box-shadow:0 0 24px rgba(255,93,115,.15) inset}
.code-card--info{border-left:3px solid var(--brand-2);box-shadow:0 0 24px rgba(76,201,240,.15) inset}

/* 12-column grid helpers */
.grid-12{display:grid;grid-template-columns:repeat(12,1fr);gap:16px}
.col-8{grid-column:span 8}
.col-4{grid-column:span 4}
@media (max-width:1024px){.col-8,.col-4{grid-column:span 12}}
